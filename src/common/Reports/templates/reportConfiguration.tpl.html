<div class="modal-header bg-primary">
	<button type="button" class="close" ng-click="closeDialog()" aria-hidden="true">&times;</button>
	<h4 class="modal-title"><i class="fa fa-bar-chart"></i> Configure Report</h4>
</div>
<div class="modal-body">
	<div ng-class="panel-body" ng-show="reports">

		<div class="panel panel-default" style="margin-bottom:10px;">

			<div class="panel-body" style="margin-left:15px;/*max-height:418px; overflow-y:scroll;*/">
				<div class="pull-right">
				<button type="button" ng-click="toggleReport()" class="btn btn-primary btn-xs">{{viewName}}</button>
				</div>
				<div ng-show="thisReport" class="row">

					<!--<form>

						<div class="form-group col-md-6">
							<label style="font-size:14px; font-family:verdana; font-style:italic; font-weight:bold; text-align:right">Model</label>
							<select class="form-control" name="modelName" ng-model="modelName" ng-options="key as key for (key,type) in modelNames" ng-change="loadModelTypes(modelName)">
								<option value="">Select Model</option>
							</select>
						</div>
						<div class="form-group col-md-6">
							<label  style="font-size:14px; font-family:verdana; font-style:italic; font-weight:bold; text-align:right">Model Type</label>
							<select  class="form-control" name="modelType" ng-model="modelType" ng-options="key as type.Name for (key,type) in modelTypes">
								<option value="" selected="selected">Select Model Type</option>
							</select>
						</div>
					</form>-->
				</div>
				<div ng-show="!thisReport">
					<form>
						<div class="form-group col-md-12">
							<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Custom Reports</label>
							<select ng-model="customReport" ng-options="key as report.Name for (key,report) in customReports" ng-change="setupCustomReportDetails(customReport);customState={'background-color': (reportID?'#eee':'#fff')}" class="form-control"><option value="" selected="selected">Select Report</option></select>
						</div><br/>

						<div class="form-group">
							<input type="hidden" name="reportID" ng-model="reportID" value="{{ reportID }}"/>
						</div>
					</form>
				</div>
				<form ng-show="thisReport || customReport">
					<div class="form-group col-md-12" ng-show="!thisReport">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Report Name</label>
						<input type="text" ng-model="reportName" ng-change="markAsCustom()" class="form-control" placeholder="Name Of Report"  value="{{ reportName }}">
					</div>
					<div class="form-group col-md-12">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Report Type</label>
						<select ng-model="selectedReport" ng-options="key as report.Name for (key,report) in reports" ng-change="setupReportDetails(selectedReport)" class="form-control" ng-style="customState"></select>
					</div>
					<div class="form-group col-md-12" ng-show="selectedReport == 'r33'|| selectedReport == 'r22'">
						<label  style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Groups</label>
						<select class="form-control" name="group" ng-model="selectedGroup" ng-options="key as group.Name for (key,group) in groups" ng-style="customState">
							<option value="" selected="selected">Select Group</option>
						</select>
					</div>
					<div class="form-group col-md-12"  ng-show="selectedReport == 'r44'">
						<label  style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Site</label>
						<select class="form-control" name="site" ng-model="selectedSite" ng-options="key as site.Name for (key,site) in sites" ng-style="customState">
							<option value="" selected="selected">Select Site</option>
						</select>
					</div>
					<div class="form-group col-md-12">
						<label  style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Reported Point Types</label>
						<p class="text-primary slick" style="font-size:10px">Ctrl + Click to select multiple items. Making no selections will return all point types.</p>
						<select class="form-control" multiple ng-model="selectedPointTypes" ng-options="key as pt.Name for (key,pt) in pointtypes"></select>
					</div>
					<div class="form-group col-md-12">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Report Length</label>
						<select class="form-control" name="dateRangeOption" ng-model="dateRangeOption" ng-change="getDatesFromDateRange(dateRangeOption)" ng-style="customState">
							<option value="" SELECTED>Please Select</option>
							<option value="Today">Today</option>
							<option value="Last Week">Last 7 Days</option>
							<option value="Last 30 Days">Last 30 Days</option>
							<option value="Last Year">Last Year</option>
							<option value="Week To Date">Week To Date</option>
							<option value="Month To Date">Month To Date</option>
							<option value="Year To Date">Year To Date</option>
							<option value="Custom">Custom</option>
						</select>
					</div>
					<div class="form-group col-md-6">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Start Date</label>
						<input type="text" class="form-control" placeholder="Select Start Date" datepicker-popup="{{ format }}" ng-model="startDate" is-open="openedStart" min-date="'2001-01-01'" max-date="maxDate" datepicker-options="dateOptions" close-text="Close" ng-click="openStart($event)" value="{{ startDate }}" ng-required="true" ng-disabled="dateRangeOption != 'Custom'" ng-style="customState"/>
					</div>
					<div class="form-group col-md-6">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">End Date</label>
						<input type="text" class="form-control" placeholder="Select End Date" datepicker-popup="{{ format }}" ng-model="endDate" is-open="openedEnd" min-date="'2001-01-01'" max-date="maxDate" datepicker-options="dateOptions" close-text="Close" ng-click="openEnd($event)" value="{{ endDate }}" ng-required="true" ng-disabled="dateRangeOption!='Custom'" ng-style="customState"/>
					</div>
					<div class="form-group col-md-6">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Rollup Frequency</label>
						<select id="numberOfRollUp" ng-model="numberOfRollUp" class="form-control" name="numberOfRollUp" ng-style="customState">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
						</select>
					</div>
					<div class="form-group col-md-6">
						<label style="font-size:14px; font-family:verdana; font-weight:bold; text-align:right">Per Time Unit</label>
							<select id="rollUp" ng-model="rollUp" class="form-control" name="rollUp" ng-style="customState">
								<option value="min">Minute</option>
								<option value="hour">Hour</option>
								<option value="day">Day</option>
								<option value="month">Month</option>
								<option value="year">Year</option>
							</select>
					</div>
					<div class="form-group">
						<div class="btn-group btn-group-justified" role="group" >
							<a role="button" value="Run" ng-click="processReport(selectedReport, 'ONLYRUN', reportName, modelName, modelType, dateRangeOption, startDate, endDate, rollUp, numberOfRollUp, selectedGroup, selectedSite, selectedPointTypes)" class="btn btn-primary darkGray">Run</a>
							<a role="button" value="Save & Run" ng-click="newReportDialog(selectedReport, reportID, reportName, modelName, modelType, dateRangeOption, startDate, endDate, rollUp, numberOfRollUp, selectedGroup, selectedSite, selectedPointTypes)" class="btn btn-primary btn-success">Save and Run</a>
							<a role="button" value="Cancel" ng-click="closeDialog(true)" class="btn btn-default">Cancel</a>
							<a ng-show="!thisReport" role="button" value="Delete" ng-click="deleteCustomReport(reportID)" class="btn btn-primary btn-danger">Delete</a>
						</div>
					</div>
				</form>

			</div>
		</div>
	</div>
</div>