<div class="panel panel-default">
	<div class="panel-heading">
		<h5><i class="fa fa-cogs"></i> Table Configuration</h5>
	</div>
	<div class="panel-body">
		<form class="form-inline" role="form">

			<div class="well well-sm">
				<div class="row">

					<div class="col-md-4">
						<div class="form-group">
							<label for="interval">Interval Roll Up</label><br/>
							<select name="rollUp" ng-model="config.rollUp" class="form-control">
								<option value="" >-</option>
								<option value="count">count</option>
								<option value="max">max</option>
								<option value="mean" selected="selected">mean</option>
								<option value="min">min</option>
								<option value="stddev">stddev</option>
								<option value="ss">ss</option>
								<option value="sum">sum</option>
								<option value="range">range</option>
							</select>
							<span ng-show="frm.rollUp.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-4">
						<div class="form-group">
							<label for="interval">Date Range Option</label><br/>

							<select class="form-control" name="dateRange" ng-model="config.dateRange" ng-style="customState" ng-change="getDatesFromDateRange(config.dateRange)">

								<option value="" SELECTED>Please Select</option>
								<option value="Today">Today</option>
								<option value="Last Week">Last 7 Days</option>
								<option value="Last 30 Days">Last 30 Days</option>
								<option value="Last Year">Last Year</option>
								<option value="Week To Date">Week To Date</option>
								<option value="Month To Date">Month To Date</option>
								<option value="Year To Date">Year To Date</option>
								<option value="Custom">Custom</option>
							</select>
							<span ng-show="frm.show24hr.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
					<div class="col-md-4">
						<div class="form-group">
							<label for="interval">Start Date</label><br/>
							<p class="input-group">

								<input type="text" class="form-control" name="startDate" datepicker-popup="MMMM d, yyyy" placeholder="To" ng-model="config.startDate" is-open="openedTo" min="minDate" max="" datepicker-options="dateOptions" ng-required="true" close-text="Close" ng-click="op($event,'openedTo')" ng-disabled="config.dateRange != 'Custom'"/>

								<span class="input-group-btn">
									<button type="button" class="btn btn-default" ng-click="op($event,'openedTo')"><i class="fa fa-calendar"></i></button>
								</span>
							</p>
							<span ng-show="frm.startDate.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
					<div class="col-md-4">
						<div class="form-group">
							<label for="interval">End Date</label><br/>
							<p class="input-group">

								<input type="text" class="form-control" name="endDate" datepicker-popup="MMMM d, yyyy" placeholder="From" ng-model="config.endDate" is-open="openedFrom" min="minDate" max="" datepicker-options="dateOptions" ng-required="true" close-text="Close" ng-click="op($event,'openedFrom')" ng-disabled="config.dateRange != 'Custom'"/>

								<span class="input-group-btn">
									<button type="button" class="btn btn-default" ng-click="op($event, 'openedFrom')"><i class="fa fa-calendar"></i></button>
								</span>
							</p>
							<span ng-show="frm.endDate.$error.required" class="help-inline">*Required</span>
						</div>
					</div>

				</div>
			</div>
			<form class="form-inline"  style="margin-bottom:10px;">
			<div class="panel panel-default">
				<div class="panel-body">
					<div  class="form-group" >
						<label for="background">Add Link</label></br>
						<div class="checkbox">
					      <label>
					        <input ng-model="config.addLink" name="background" type="checkbox"> Display
					      </label>
			   			 </div>
		   			</div>
					<div class="form-group" role="form" ng-show="config.addLink">
						<label for="dashboard">Link Dashboard</label><br />
						<select class="form-control" name="dashboard" ng-model="config.linkDboard" ng-options="key as type.menuLabel for (key,type) in dashboards">
							<option value="" selected="selected">Select</option>
						</select>
						<span ng-show="frm.dashboard.$error.required" class="help-inline">*Required</span>
					</div>
					<div class="form-group">
						<label for="linkModelName">Dashboard Key</label><br />
						<select class="form-control" name="linkModelName" ng-model="config.linkModelName" ng-options="key as key for (key,type) in modelNames" ng-change="loadModelTypes(config.linkModelName)">
							<option value="" selected="selected">Select</option>
						</select>
						<span ng-show="frm.linkModelName.$error.required" class="help-inline">*Required</span>
					</div>
				</div>
			</div>
		</form>

			<div class="well well-sm">
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label for="modelName">Model</label><br/>
							<select  class="form-control" name="modelName" ng-model="config.modelName" ng-options="key as key for (key,type) in modelNames" ng-change="loadModelTypes(config.modelName)">
								<option value="" selected="selected">Select</option>
							</select>
							<span ng-show="frm.modelName.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
					<div class="col-sm-12">
						<div class="form-group">
							<label for="modelType">Type</label><br/>
							<select class="form-control" name="modelType" ng-model="config.modelType" ng-options="key as type.Name for (key,type) in modelTypes" ng-change="setModelType(config.modelName, config.modelType)">
								<option value="" selected="selected">Select</option>
							</select>
							<span ng-show="frm.modelType.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label style="margin-top:10px" for="valueProp">Value Property</label><br/>
							<select style="width:258px" class="form-control" name="valueProp" ng-model="config.valueProp" ng-options="getPropertyValue(prop) as prop.label for (key,prop) in valueProps">
								<option value="" selected="selected">Select</option>
							</select>
							<span ng-show="frm.valueProp.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label style="margin-top:10px" for="labelProp">Table Label</label><br/>
							<select style="width:260px" class="form-control" name="labelProp" ng-model="config.labelProp" ng-options="getPropertyValue(prop) as prop.label for (key,prop) in labelProps">
								<option value="" selected="selected">Select</option>
							</select>
							<span ng-show="frm.labelProp.$error.required" class="help-inline">*Required</span>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label for="labelGraphModel">Label Graph Model</label><br/>
							<select class="form-control" name="labelGraphModel" ng-model="config.labelGraphModel" ng-options="key as key for (key,type) in modelNames">
								<option value="" selected="selected">Select</option>
							</select>
						</div>
					</div>
					<div ng-if="unitsAvailable" class="col-sm-6">
						<div class="form-group">
							<label for="unit">Unit</label><br/>
							<select class="form-control" name="unit" ng-model="config.unit" ng-options="unit.Name as unit.Name for unit in units">
								<option value="" selected="selected">Select</option>
							</select>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-3">
						<button style="margin-top:10px" ng-click="addQuery()" class="btn btn-primary form-control">
							{{!editMode ? 'Add Query' : 'Update Query'}}
						</button>
					</div>
				</div>
			</div>

			<div class="row" style="padding-left:20px; padding-bottom:20px" ng-if="config.query.length > 0">
				<div class="col-md-12">
					<label for="modelType">Query</label><br/>
					<span ng-repeat="(key,value) in checkQuery">
						edit <input type="checkbox" ng-model="value.selected"  ng-click="editQuery(key,value)"> <span style="margin-left:10px" ng-click="setupSelected(value)">{{value.modelName}} - {{value.typeName}} </span>
						<button class="btn btn-sm btn-alert" ng-click="removeQuery(key)">
							<i class="fa fa-trash-o"></i>
						</button>
						<br/>
					</span>
				</div>
			</div>
		</form>
	</div>
</div>

<div class="panel panel-default" ng-show="config.showSettings">
	<div class="panel-heading">
		<h5><i class="fa fa-cube"></i> Widget Style Configuration</h5>
	</div>
	<div class="panel-body">
		<form class="form-inline" role="form">
			<div class="panel panel-default">
				<div class="form-group">
						<label for="bgColor" style="margin-left:10px; margin-top:10px;">Table Header Color</label></br>
						<div style="margin-left:10px;" class="btn-group">
							<button class="btn btn-default" ng-click="config.bgColor = ''">&nbsp;</button>
							<button class="btn darkGray" ng-click="config.bgColor = 'darkGray'">&nbsp;</button>
							<button class="btn gray" ng-click="config.bgColor = 'gray'">&nbsp;</button>
							<button class="btn btn-primary" ng-click="config.bgColor = 'blue'">&nbsp;</button>
							<button class="btn btn-success" ng-click="config.bgColor = 'green'">&nbsp;</button>
							<button class="btn btn-info" ng-click="config.bgColor = 'lightBlue'">&nbsp;</button>
							<button class="btn btn-warning" ng-click="config.bgColor = 'yellow'">&nbsp;</button>
							<button class="btn btn-danger" ng-click="config.bgColor = 'red'">&nbsp;</button>
						</div>
				</div>
				<div class="panel-body">
					<div class="form-group">
						<label for="margin-top">Margin-Top</label></br>
						<input type="text" ng-model="config.marginTop" class="form-control" id="margin-top" placeholder="10px">
					</div>
					<div class="form-group col-md-offset-1">
						<label for="margin-bottom">Margin-Bottom</label></br>
						<input type="text" ng-model="config.marginBottom" class="form-control" id="margin-bottom" placeholder="10px">
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="form-group" >
						<label for="">Number Fraction Size </label></br>
						<select class="form-control" name="fractionSize" ng-model="config.fractionSize">
							<option value="0">0</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
						</select>
					</div></br>
				</div>
			</div>
		</form>
	</div>
</div>