<div ng-if="returnedData" ng-class="{'panel': config.showPanel ,'panel-default': config.showPanel, 'widgetPrimary': config.bgColor == 'blue' &&  config.showPanel, 'widgetSuccess': config.bgColor == 'green' &&  config.showPanel, 'widgetInfo': config.bgColor == 'lightBlue' &&  config.showPanel, 'widgetWarning': config.bgColor == 'yellow' &&  config.showPanel, 'widgetDanger': config.bgColor == 'red' &&  config.showPanel,'widgetGray': config.bgColor == 'gray' &&  config.showPanel}" ng-style="{'margin-top': config.marginTop, 'margin-bottom' : config.marginBottom, 'margin-right' : config.marginRight, 'margin-left' : config.marginLeft}" ng-click="pointPopupDialog()" >
	<div ng-if="dataLoaded" ng-class="{'panel-body': config.showPanel, 'text-left': config.buttonAlign =='left','text-center': config.buttonAlign=='center','text-right':config.buttonAlign=='right'}">
		<div ng-repeat="(index,model) in returnedData">
			<!-- <h1>{{model.Name}}</h1> -->
			<div ng-repeat="(expressionType,typeCollection) in model.expressions.values">
				<!-- <h2>{{expressionType}}</h2> -->
				<div ng-repeat="(expressionCategory,categoryCollection) in typeCollection">
					<!-- <h3>{{expressionCategory}}</h3> -->
					<div ng-repeat="(expressionName,expression) in categoryCollection">
						<div ng-if="!config.expressionProp || config.expressionProp == expressionName">
							<div ng-show="config.showValue">
								<div ng-class="[config.myValueColor, config.titleTextValue]" ng-style="{'font-size':config.myValueSize, 'font-weight': config.isBold, 'text-decoration': config.isDecorated}">
									<!--{{ formatData( getDisplayValue(expression.Value,config.valueProp)) }} -->
									{{formatData( expression.Value )}}
									<i ng-if="config.commandBox" class="fa fa-bullseye text-primary" style="font-size:9px;"></i>
								</div>
							</div>

							<div ng-show="config.showMax" ng-class="{'widgetPrimary': config.maxColor == 'blue', 'widgetSuccess': config.maxColor == 'green', 'widgetInfo': config.maxColor == 'lightBlue', 'widgetWarning': config.maxColor == 'yellow', 'widgetDanger': config.maxColor == 'red','widgetGray': config.maxColor == 'gray', 'darkGray': config.maxColor == 'darkGray'}">
								<div ng-class="[config.myValueColor, config.titleTextValue]" ng-style="{'font-size':config.myValueSize, 'font-weight': config.isBold, 'text-decoration': config.isDecorated}">
									<!--{{ formatData( getDisplayValue(expression.Value,config.valueProp)) }} -->
									{{formatData( expression.Value )}}
									<i ng-if="config.commandBox" class="fa fa-bullseye text-primary" style="font-size:9px;"></i>
								</div>
							</div>

							<div ng-show="config.showMin" ng-class="{'widgetPrimary': config.minColor == 'blue', 'widgetSuccess': config.minColor == 'green', 'widgetInfo': config.minColor == 'lightBlue', 'widgetWarning': config.minColor == 'yellow', 'widgetDanger': config.minColor == 'red','widgetGray': config.minColor == 'gray', 'darkGray': config.minColor == 'darkGray'}">
								<div ng-class="[config.myValueColor, config.titleTextValue]"  ng-style="{'font-size':config.myValueSize, 'font-weight': config.isBold, 'text-decoration': config.isDecorated}">
									<!--{{ formatData( getDisplayValue(expression.Value,config.valueProp)) }} -->
									{{formatData( expression.Value )}}
									<i ng-if="config.commandBox" class="fa fa-bullseye text-primary" style="font-size:9px;"></i>
								</div>
							</div>

							<div ng-class="[config.myLabelColor, config.titleTextLabel]" ng-show="config.showLabel" ng-style="{'font-size':config.myLabelSize}">{{ expressionName }}</div>

							<div ng-class="[config.myModelColor, config.titleTextModel]" ng-show="config.showModel" ng-style="{'font-size':config.myModelSize}">{{ model.Name }}</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div ng-if="!dataLoaded && !dataLoadedError">
		<h3>
			<i class="fa fa-spinner fa-spin text-info"></i>
		</h3>
		<strong>Data Loading ...</strong>
	</div>
</div>